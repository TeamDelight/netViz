{% extends "base.html" %}
{% block content %}
<h1 id="welcome-user">Hi, {{ current_user.username }}</h1>

<div class="container">
    <form class="autocomplete-form" action="/search" method="POST">
        <input id="autocomplete" type="text" name="autocomplete" class="form-control"
            placeholder="Search for CustomerID, Customer Name, Address, Phone Number"
            onkeydown="searchAutoComplete(this.value)">
        <button id="search-button" type="submit"><i class="fa fa-search"></i></button>
    </form>
</div>

{% if resulted_dict %} {% if resulted_dict|length > 0 %}
<div>
    <table id=search_result_table>
        <caption id="table_caption">Search Results fetched for <span>{{resulted_dict[0].name}}</span></caption>
        <tr>
            <th id="table-customer-id"> Customer ID </th>
            <th id="table-customer-name"> Customer Name </th>
            <th id="table-phone-number"> Phone Number </th>
            <th id="table-customer-id"> Address </th>
        </tr>
        {% for result in resulted_dict %}
        <tr class="table-data">
            <td><a href="{{url_for('graph_generation',customer_id = result.id)}}"> {{ result.id }}</a> </td>
            <td> {{ result.name }}</td>
            <td> {{ result.phone }}</td>
            <td> {{ result.Address }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endif %} {% elif customer_search|length > 0 %}
<p id="no_records">No records found for <span id="customer_search">{{customer_search}}</span></p>
{% endif %} {% endblock %}